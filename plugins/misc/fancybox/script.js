(function(n){if(typeof define==="function"&&define.amd)define(["jquery"],n);else if(typeof exports==="object")module.exports=n;else n(jQuery)})(function(n){function y(a){var p=a||window.event,F=[].slice.call(arguments,1),q=0,u=0,s=0,t=0;t=0;a=n.event.fix(p);a.type="mousewheel";if(p.wheelDelta)q=p.wheelDelta;if(p.detail)q=p.detail*-1;if(p.deltaY)q=s=p.deltaY*-1;if(p.deltaX){u=p.deltaX;q=u*-1}if(p.wheelDeltaY!==undefined)s=p.wheelDeltaY;if(p.wheelDeltaX!==undefined)u=p.wheelDeltaX*-1;t=Math.abs(q);
if(!H||t<H)H=t;t=Math.max(Math.abs(s),Math.abs(u));if(!o||t<o)o=t;p=q>0?"floor":"ceil";q=Math[p](q/H);u=Math[p](u/o);s=Math[p](s/o);F.unshift(a,q,u,s);return(n.event.dispatch||n.event.handle).apply(this,F)}var f=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],v="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],H,o;if(n.event.fixHooks)for(var r=f.length;r;)n.event.fixHooks[f[--r]]=n.event.mouseHooks;n.event.special.mousewheel=
{setup:function(){if(this.addEventListener)for(var a=v.length;a;)this.addEventListener(v[--a],y,false);else this.onmousewheel=y},teardown:function(){if(this.removeEventListener)for(var a=v.length;a;)this.removeEventListener(v[--a],y,false);else this.onmousewheel=null}};n.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})});(function(n,y,f,v){var H=f("html"),o=f(n),r=f(y),a=f.fancybox=function(){a.open.apply(this,arguments)},p=navigator.userAgent.match(/msie/i),F=null,q=y.createTouch!==v,u=function(b){return b&&b.hasOwnProperty&&b instanceof f},s=function(b){return b&&f.type(b)==="string"},t=function(b){return s(b)&&b.indexOf("%")>0},l=function(b,d){var e=parseInt(b,10)||0;if(d&&t(b))e=a.getViewport()[d]/100*e;return Math.ceil(e)},z=function(b,d){return l(b,d)+"px"};f.extend(a,{version:"2.1.5",defaults:{padding:15,margin:20,
width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:true,autoHeight:false,autoWidth:false,autoResize:true,autoCenter:!q,fitToView:true,aspectRatio:false,topRatio:0.5,leftRatio:0.5,scrolling:"auto",wrapCSS:"",arrows:true,closeBtn:true,closeClick:false,nextClick:false,mouseWheel:true,autoPlay:false,playSpeed:3E3,preload:3,modal:false,loop:true,ajax:{dataType:"html",headers:{"X-fancyBox":true}},iframe:{scrolling:"auto",preload:true},swf:{wmode:"transparent",
allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:true,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',
iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(p?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',
prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:true,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:true,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:true,title:true},onCancel:f.noop,beforeLoad:f.noop,
afterLoad:f.noop,beforeShow:f.noop,afterShow:f.noop,beforeChange:f.noop,beforeClose:f.noop,afterClose:f.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:false,isOpen:false,isOpened:false,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:false},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(b,d){if(b){f.isPlainObject(d)||(d={});if(false!==a.close(true)){f.isArray(b)||(b=u(b)?f(b).get():[b]);f.each(b,function(e,c){var g={},h,i,j,k,m;if(f.type(c)===
"object"){if(c.nodeType)c=f(c);if(u(c)){g={href:c.data("fancybox-href")||c.attr("href"),title:c.data("fancybox-title")||c.attr("title"),isDom:true,element:c};f.metadata&&f.extend(true,g,c.metadata())}else g=c}h=d.href||g.href||(s(c)?c:null);i=d.title!==v?d.title:g.title||"";k=(j=d.content||g.content)?"html":d.type||g.type;if(!k&&g.isDom){k=c.data("fancybox-type");if(!k)k=(k=c.prop("class").match(/fancybox\.(\w+)/))?k[1]:null}if(s(h)){if(!k)if(a.isImage(h))k="image";else if(a.isSWF(h))k="swf";else if(h.charAt(0)===
"#")k="inline";else if(s(c)){k="html";j=c}if(k==="ajax"){m=h.split(/\s+/,2);h=m.shift();m=m.shift()}}if(!j)if(k==="inline")if(h)j=f(s(h)?h.replace(/.*(?=#[^\s]+$)/,""):h);else{if(g.isDom)j=c}else if(k==="html")j=h;else if(!k&&!h&&g.isDom){k="inline";j=c}f.extend(g,{href:h,type:k,content:j,title:i,selector:m});b[e]=g});a.opts=f.extend(true,{},a.defaults,d);if(d.keys!==v)a.opts.keys=d.keys?f.extend({},a.defaults.keys,d.keys):false;a.group=b;return a._start(a.opts.index)}}},cancel:function(){var b=a.coming;
if(!(!b||false===a.trigger("onCancel"))){a.hideLoading();a.ajaxLoad&&a.ajaxLoad.abort();a.ajaxLoad=null;if(a.imgPreload)a.imgPreload.onload=a.imgPreload.onerror=null;b.wrap&&b.wrap.stop(true,true).trigger("onReset").remove();a.coming=null;a.current||a._afterZoomOut(b)}},close:function(b){a.cancel();if(false!==a.trigger("beforeClose")){a.unbindEvents();if(a.isActive)if(!a.isOpen||b===true){f(".fancybox-wrap").stop(true).trigger("onReset").remove();a._afterZoomOut()}else{a.isOpen=a.isOpened=false;a.isClosing=
true;f(".fancybox-item, .fancybox-nav").remove();a.wrap.stop(true,true).removeClass("fancybox-opened");a.transitions[a.current.closeMethod]()}}},play:function(b){var d=function(){clearTimeout(a.player.timer)},e=function(){d();if(a.current&&a.player.isActive)a.player.timer=setTimeout(a.next,a.current.playSpeed)},c=function(){d();r.unbind(".player");a.player.isActive=false;a.trigger("onPlayEnd")};if(b===true||!a.player.isActive&&b!==false){if(a.current&&(a.current.loop||a.current.index<a.group.length-
1)){a.player.isActive=true;r.bind({"onCancel.player beforeClose.player":c,"onUpdate.player":e,"beforeLoad.player":d});e();a.trigger("onPlayStart")}}else c()},next:function(b){var d=a.current;if(d){if(!s(b))b=d.direction.next;a.jumpto(d.index+1,b,"next")}},prev:function(b){var d=a.current;if(d){if(!s(b))b=d.direction.prev;a.jumpto(d.index-1,b,"prev")}},jumpto:function(b,d,e){var c=a.current;if(c){b=l(b);a.direction=d||c.direction[b>=c.index?"next":"prev"];a.router=e||"jumpto";if(c.loop){if(b<0)b=c.group.length+
b%c.group.length;b%=c.group.length}if(c.group[b]!==v){a.cancel();a._start(b)}}},reposition:function(b,d){var e=a.current,c=e?e.wrap:null,g;if(c){g=a._getPosition(d);if(b&&b.type==="scroll"){delete g.position;c.stop(true,true).animate(g,200)}else{c.css(g);e.pos=f.extend({},e.dim,g)}}},update:function(b){var d=b&&b.type,e=!d||d==="orientationchange";if(e){clearTimeout(F);F=null}!a.isOpen||F||(F=setTimeout(function(){var c=a.current;if(!(!c||a.isClosing)){a.wrap.removeClass("fancybox-tmp");if(e||d===
"load"||d==="resize"&&c.autoResize)a._setDimension();d==="scroll"&&c.canShrink||a.reposition(b);a.trigger("onUpdate");F=null}},e&&!q?0:300))},toggle:function(b){if(a.isOpen){a.current.fitToView=f.type(b)==="boolean"?b:!a.current.fitToView;if(q){a.wrap.removeAttr("style").addClass("fancybox-tmp");a.trigger("onUpdate")}a.update()}},hideLoading:function(){r.unbind(".loading");f("#fancybox-loading").remove()},showLoading:function(){var b,d;a.hideLoading();b=f('<div id="fancybox-loading"><div></div></div>').click(a.cancel).appendTo("body");
r.bind("keydown.loading",function(e){if((e.which||e.keyCode)===27){e.preventDefault();a.cancel()}});if(!a.defaults.fixed){d=a.getViewport();b.css({position:"absolute",top:d.h*0.5+d.y,left:d.w*0.5+d.x})}},getViewport:function(){var b=a.current&&a.current.locked||false,d={x:o.scrollLeft(),y:o.scrollTop()};if(b){d.w=b[0].clientWidth;d.h=b[0].clientHeight}else{d.w=q&&n.innerWidth?n.innerWidth:o.width();d.h=q&&n.innerHeight?n.innerHeight:o.height()}return d},unbindEvents:function(){a.wrap&&u(a.wrap)&&
a.wrap.unbind(".fb");r.unbind(".fb");o.unbind(".fb")},bindEvents:function(){var b=a.current,d;if(b){o.bind("orientationchange.fb"+(q?"":" resize.fb")+(b.autoCenter&&!b.locked?" scroll.fb":""),a.update);(d=b.keys)&&r.bind("keydown.fb",function(e){var c=e.which||e.keyCode,g=e.target||e.srcElement;if(c===27&&a.coming)return false;if(!e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey&&!(g&&(g.type||f(g).is("[contenteditable]"))))f.each(d,function(h,i){if(b.group.length>1&&i[c]!==v){a[h](i[c]);e.preventDefault();
return false}if(f.inArray(c,i)>-1){a[h]();e.preventDefault();return false}})});f.fn.mousewheel&&b.mouseWheel&&a.wrap.bind("mousewheel.fb",function(e,c,g,h){for(var i=f(e.target||null),j=false;i.length;){if(j||i.is(".fancybox-skin")||i.is(".fancybox-wrap"))break;j=i[0]&&!(i[0].style.overflow&&i[0].style.overflow==="hidden")&&(i[0].clientWidth&&i[0].scrollWidth>i[0].clientWidth||i[0].clientHeight&&i[0].scrollHeight>i[0].clientHeight);i=f(i).parent()}if(c!==0&&!j)if(a.group.length>1&&!b.canShrink){if(h>
0||g>0)a.prev(h>0?"down":"left");else if(h<0||g<0)a.next(h<0?"up":"right");e.preventDefault()}})}},trigger:function(b,d){var e,c=d||a.coming||a.current;if(c){if(f.isFunction(c[b]))e=c[b].apply(c,Array.prototype.slice.call(arguments,1));if(e===false)return false;c.helpers&&f.each(c.helpers,function(g,h){h&&a.helpers[g]&&f.isFunction(a.helpers[g][b])&&a.helpers[g][b](f.extend(true,{},a.helpers[g].defaults,h),c)});r.trigger(b)}},isImage:function(b){return s(b)&&b.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},
isSWF:function(b){return s(b)&&b.match(/\.(swf)((\?|#).*)?$/i)},_start:function(b){var d={},e,c;b=l(b);e=a.group[b]||null;if(!e)return false;d=f.extend(true,{},a.opts,e);e=d.margin;c=d.padding;if(f.type(e)==="number")d.margin=[e,e,e,e];if(f.type(c)==="number")d.padding=[c,c,c,c];d.modal&&f.extend(true,d,{closeBtn:false,closeClick:false,nextClick:false,arrows:false,mouseWheel:false,keys:null,helpers:{overlay:{closeClick:false}}});if(d.autoSize)d.autoWidth=d.autoHeight=true;if(d.width==="auto")d.autoWidth=
true;if(d.height==="auto")d.autoHeight=true;d.group=a.group;d.index=b;a.coming=d;if(false===a.trigger("beforeLoad"))a.coming=null;else{c=d.type;e=d.href;if(!c){a.coming=null;if(a.current&&a.router&&a.router!=="jumpto"){a.current.index=b;return a[a.router](a.direction)}return false}a.isActive=true;if(c==="image"||c==="swf"){d.autoHeight=d.autoWidth=false;d.scrolling="visible"}if(c==="image")d.aspectRatio=true;if(c==="iframe"&&q)d.scrolling="scroll";d.wrap=f(d.tpl.wrap).addClass("fancybox-"+(q?"mobile":
"desktop")+" fancybox-type-"+c+" fancybox-tmp "+d.wrapCSS).appendTo(d.parent||"body");f.extend(d,{skin:f(".fancybox-skin",d.wrap),outer:f(".fancybox-outer",d.wrap),inner:f(".fancybox-inner",d.wrap)});f.each(["Top","Right","Bottom","Left"],function(g,h){d.skin.css("padding"+h,z(d.padding[g]))});a.trigger("onReady");if(c==="inline"||c==="html"){if(!d.content||!d.content.length)return a._error("content")}else if(!e)return a._error("href");if(c==="image")a._loadImage();else if(c==="ajax")a._loadAjax();
else c==="iframe"?a._loadIframe():a._afterLoad()}},_error:function(b){f.extend(a.coming,{type:"html",autoWidth:true,autoHeight:true,minWidth:0,minHeight:0,scrolling:"no",hasError:b,content:a.coming.tpl.error});a._afterLoad()},_loadImage:function(){var b=a.imgPreload=new Image;b.onload=function(){this.onload=this.onerror=null;a.coming.width=this.width/a.opts.pixelRatio;a.coming.height=this.height/a.opts.pixelRatio;a._afterLoad()};b.onerror=function(){this.onload=this.onerror=null;a._error("image")};
b.src=a.coming.href;b.complete!==true&&a.showLoading()},_loadAjax:function(){var b=a.coming;a.showLoading();a.ajaxLoad=f.ajax(f.extend({},b.ajax,{url:b.href,error:function(d,e){a.coming&&e!=="abort"?a._error("ajax",d):a.hideLoading()},success:function(d,e){if(e==="success"){b.content=d;a._afterLoad()}}}))},_loadIframe:function(){var b=a.coming,d=f(b.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",q?"auto":b.iframe.scrolling).attr("src",b.href);f(b.wrap).bind("onReset",function(){try{f(this).find("iframe").hide().attr("src",
"//about:blank").end().empty()}catch(e){}});if(b.iframe.preload){a.showLoading();d.one("load",function(){f(this).data("ready",1);q||f(this).bind("load.fb",a.update);f(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show();a._afterLoad()})}b.content=d.appendTo(b.inner);b.iframe.preload||a._afterLoad()},_preloadImages:function(){var b=a.group,d=a.current,e=b.length,c=d.preload?Math.min(d.preload,e-1):0,g,h;for(h=1;h<=c;h+=1){g=b[(d.index+h)%e];if(g.type==="image"&&g.href)(new Image).src=
g.href}},_afterLoad:function(){var b=a.coming,d=a.current,e,c,g,h,i;a.hideLoading();if(!(!b||a.isActive===false))if(false===a.trigger("afterLoad",b,d)){b.wrap.stop(true).trigger("onReset").remove();a.coming=null}else{if(d){a.trigger("beforeChange",d);d.wrap.stop(true).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()}a.unbindEvents();e=b.content;c=b.type;g=b.scrolling;f.extend(a,{wrap:b.wrap,skin:b.skin,outer:b.outer,inner:b.inner,current:b,previous:d});h=b.href;switch(c){case "inline":case "ajax":case "html":if(b.selector)e=
f("<div>").html(e).find(b.selector);else if(u(e)){e.data("fancybox-placeholder")||e.data("fancybox-placeholder",f('<div class="fancybox-placeholder"></div>').insertAfter(e).hide());e=e.show().detach();b.wrap.bind("onReset",function(){f(this).find(e).length&&e.hide().replaceAll(e.data("fancybox-placeholder")).data("fancybox-placeholder",false)})}break;case "image":e=b.tpl.image.replace("{href}",h);break;case "swf":e='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+
h+'"></param>';i="";f.each(b.swf,function(j,k){e+='<param name="'+j+'" value="'+k+'"></param>';i+=" "+j+'="'+k+'"'});e+='<embed src="'+h+'" type="application/x-shockwave-flash" width="100%" height="100%"'+i+"></embed></object>";break}u(e)&&e.parent().is(b.inner)||b.inner.append(e);a.trigger("beforeShow");b.inner.css("overflow",g==="yes"?"scroll":g==="no"?"hidden":g);a._setDimension();a.reposition();a.isOpen=false;a.coming=null;a.bindEvents();if(a.isOpened)d.prevMethod&&a.transitions[d.prevMethod]();
else f(".fancybox-wrap").not(b.wrap).stop(true).trigger("onReset").remove();a.transitions[a.isOpened?b.nextMethod:b.openMethod]();a._preloadImages()}},_setDimension:function(){var b=a.getViewport(),d=0,e=false,c=false;e=a.wrap;var g=a.skin,h=a.inner,i=a.current;c=i.width;var j=i.height,k=i.minWidth,m=i.minHeight,w=i.maxWidth,x=i.maxHeight,P=i.scrolling,M=i.scrollOutside?i.scrollbarWidth:0,A=i.margin,B=l(A[1]+A[3]),I=l(A[0]+A[2]),N,C,K,E,D,J,O,G,L;e.add(g).add(h).width("auto").height("auto").removeClass("fancybox-tmp");
A=l(g.outerWidth(true)-g.width());N=l(g.outerHeight(true)-g.height());C=B+A;K=I+N;E=t(c)?(b.w-C)*l(c)/100:c;D=t(j)?(b.h-K)*l(j)/100:j;if(i.type==="iframe"){L=i.content;if(i.autoHeight&&L.data("ready")===1)try{if(L[0].contentWindow.document.location){h.width(E).height(9999);J=L.contents().find("body");M&&J.css("overflow-x","hidden");D=J.outerHeight(true)}}catch(Q){}}else if(i.autoWidth||i.autoHeight){h.addClass("fancybox-tmp");i.autoWidth||h.width(E);i.autoHeight||h.height(D);if(i.autoWidth)E=h.width();
if(i.autoHeight)D=h.height();h.removeClass("fancybox-tmp")}c=l(E);j=l(D);G=E/D;k=l(t(k)?l(k,"w")-C:k);w=l(t(w)?l(w,"w")-C:w);m=l(t(m)?l(m,"h")-K:m);x=l(t(x)?l(x,"h")-K:x);J=w;O=x;if(i.fitToView){w=Math.min(b.w-C,w);x=Math.min(b.h-K,x)}C=b.w-B;I=b.h-I;if(i.aspectRatio){if(c>w){c=w;j=l(c/G)}if(j>x){j=x;c=l(j*G)}if(c<k){c=k;j=l(c/G)}if(j<m){j=m;c=l(j*G)}}else{c=Math.max(k,Math.min(c,w));if(i.autoHeight&&i.type!=="iframe"){h.width(c);j=h.height()}j=Math.max(m,Math.min(j,x))}if(i.fitToView){h.width(c).height(j);
e.width(c+A);b=e.width();B=e.height();if(i.aspectRatio)for(;(b>C||B>I)&&c>k&&j>m;){if(d++>19)break;j=Math.max(m,Math.min(x,j-10));c=l(j*G);if(c<k){c=k;j=l(c/G)}if(c>w){c=w;j=l(c/G)}h.width(c).height(j);e.width(c+A);b=e.width();B=e.height()}else{c=Math.max(k,Math.min(c,c-(b-C)));j=Math.max(m,Math.min(j,j-(B-I)))}}if(M&&P==="auto"&&j<D&&c+A+M<C)c+=M;h.width(c).height(j);e.width(c+A);b=e.width();B=e.height();e=(b>C||B>I)&&c>k&&j>m;c=i.aspectRatio?c<J&&j<O&&c<E&&j<D:(c<J||j<O)&&(c<E||j<D);f.extend(i,
{dim:{width:z(b),height:z(B)},origWidth:E,origHeight:D,canShrink:e,canExpand:c,wPadding:A,hPadding:N,wrapSpace:B-g.outerHeight(true),skinSpace:g.height()-j});!L&&i.autoHeight&&j>m&&j<x&&!c&&h.height("auto")},_getPosition:function(b){var d=a.current,e=a.getViewport(),c=d.margin,g=a.wrap.width()+c[1]+c[3],h=a.wrap.height()+c[0]+c[2];c={position:"absolute",top:c[0],left:c[3]};if(d.autoCenter&&d.fixed&&!b&&h<=e.h&&g<=e.w)c.position="fixed";else if(!d.locked){c.top+=e.y;c.left+=e.x}c.top=z(Math.max(c.top,
c.top+(e.h-h)*d.topRatio));c.left=z(Math.max(c.left,c.left+(e.w-g)*d.leftRatio));return c},_afterZoomIn:function(){var b=a.current;if(b){a.isOpen=a.isOpened=true;a.wrap.css("overflow","visible").addClass("fancybox-opened");a.update();if(b.closeClick||b.nextClick&&a.group.length>1)a.inner.css("cursor","pointer").bind("click.fb",function(d){if(!f(d.target).is("a")&&!f(d.target).parent().is("a")){d.preventDefault();a[b.closeClick?"close":"next"]()}});b.closeBtn&&f(b.tpl.closeBtn).appendTo(a.skin).bind("click.fb",
function(d){d.preventDefault();a.close()});if(b.arrows&&a.group.length>1){if(b.loop||b.index>0)f(b.tpl.prev).appendTo(a.outer).bind("click.fb",a.prev);if(b.loop||b.index<a.group.length-1)f(b.tpl.next).appendTo(a.outer).bind("click.fb",a.next)}a.trigger("afterShow");if(!b.loop&&b.index===b.group.length-1)a.play(false);else if(a.opts.autoPlay&&!a.player.isActive){a.opts.autoPlay=false;a.play()}}},_afterZoomOut:function(b){b=b||a.current;f(".fancybox-wrap").trigger("onReset").remove();f.extend(a,{group:{},
opts:{},router:false,current:null,isActive:false,isOpened:false,isOpen:false,isClosing:false,wrap:null,skin:null,outer:null,inner:null});a.trigger("afterClose",b)}});a.transitions={getOrigPosition:function(){var b=a.current,d=b.element,e=b.orig,c={},g=50,h=50,i=b.hPadding,j=b.wPadding,k=a.getViewport();if(!e&&b.isDom&&d.is(":visible")){e=d.find("img:first");e.length||(e=d)}if(u(e)){c=e.offset();if(e.is("img")){g=e.outerWidth();h=e.outerHeight()}}else{c.top=k.y+(k.h-h)*b.topRatio;c.left=k.x+(k.w-g)*
b.leftRatio}if(a.wrap.css("position")==="fixed"||b.locked){c.top-=k.y;c.left-=k.x}return c={top:z(c.top-i*b.topRatio),left:z(c.left-j*b.leftRatio),width:z(g+j),height:z(h+i)}},step:function(b,d){var e,c,g=d.prop;c=a.current;var h=c.wrapSpace,i=c.skinSpace;if(g==="width"||g==="height"){e=d.end===d.start?1:(b-d.start)/(d.end-d.start);if(a.isClosing)e=1-e;c=g==="width"?c.wPadding:c.hPadding;c=b-c;a.skin[g](l(g==="width"?c:c-h*e));a.inner[g](l(g==="width"?c:c-h*e-i*e))}},zoomIn:function(){var b=a.current,
d=b.pos,e=b.openEffect,c=e==="elastic",g=f.extend({opacity:1},d);delete g.position;if(c){d=this.getOrigPosition();if(b.openOpacity)d.opacity=0.1}else if(e==="fade")d.opacity=0.1;a.wrap.css(d).animate(g,{duration:e==="none"?0:b.openSpeed,easing:b.openEasing,step:c?this.step:null,complete:a._afterZoomIn})},zoomOut:function(){var b=a.current,d=b.closeEffect,e=d==="elastic",c={opacity:0.1};if(e){c=this.getOrigPosition();if(b.closeOpacity)c.opacity=0.1}a.wrap.animate(c,{duration:d==="none"?0:b.closeSpeed,
easing:b.closeEasing,step:e?this.step:null,complete:a._afterZoomOut})},changeIn:function(){var b=a.current,d=b.nextEffect,e=b.pos,c={opacity:1},g=a.direction,h;e.opacity=0.1;if(d==="elastic"){h=g==="down"||g==="up"?"top":"left";if(g==="down"||g==="right"){e[h]=z(l(e[h])-200);c[h]="+=200px"}else{e[h]=z(l(e[h])+200);c[h]="-=200px"}}d==="none"?a._afterZoomIn():a.wrap.css(e).animate(c,{duration:b.nextSpeed,easing:b.nextEasing,complete:a._afterZoomIn})},changeOut:function(){var b=a.previous,d=b.prevEffect,
e={opacity:0.1},c=a.direction;if(d==="elastic")e[c==="down"||c==="up"?"top":"left"]=(c==="up"||c==="left"?"-":"+")+"=200px";b.wrap.animate(e,{duration:d==="none"?0:b.prevSpeed,easing:b.prevEasing,complete:function(){f(this).trigger("onReset").remove()}})}};a.helpers.overlay={defaults:{closeClick:true,speedOut:200,showEarly:true,css:{},locked:!q,fixed:true},overlay:null,fixed:false,el:f("html"),create:function(b){b=f.extend({},this.defaults,b);this.overlay&&this.close();this.overlay=f('<div class="fancybox-overlay"></div>').appendTo(a.coming?
a.coming.parent:b.parent);this.fixed=false;if(b.fixed&&a.defaults.fixed){this.overlay.addClass("fancybox-overlay-fixed");this.fixed=true}},open:function(b){var d=this;b=f.extend({},this.defaults,b);this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(b);if(!this.fixed){o.bind("resize.overlay",f.proxy(this.update,this));this.update()}b.closeClick&&this.overlay.bind("click.overlay",function(e){if(f(e.target).hasClass("fancybox-overlay")){a.isActive?a.close():d.close();
return false}});this.overlay.css(b.css).show()},close:function(){var b,d;o.unbind("resize.overlay");if(this.el.hasClass("fancybox-lock")){f(".fancybox-margin").removeClass("fancybox-margin");b=o.scrollTop();d=o.scrollLeft();this.el.removeClass("fancybox-lock");o.scrollTop(b).scrollLeft(d)}f(".fancybox-overlay").remove().hide();f.extend(this,{overlay:null,fixed:false})},update:function(){var b="100%",d;this.overlay.width(b).height("100%");if(p){d=Math.max(y.documentElement.offsetWidth,y.body.offsetWidth);
if(r.width()>d)b=r.width()}else if(r.width()>o.width())b=r.width();this.overlay.width(b).height(r.height())},onReady:function(b,d){var e=this.overlay;f(".fancybox-overlay").stop(true,true);e||this.create(b);if(b.locked&&this.fixed&&d.fixed){if(!e)this.margin=r.height()>o.height()?f("html").css("margin-right").replace("px",""):false;d.locked=this.overlay.append(d.wrap);d.fixed=false}b.showEarly===true&&this.beforeShow.apply(this,arguments)},beforeShow:function(b,d){var e,c;if(d.locked){if(this.margin!==
false){f("*").filter(function(){return f(this).css("position")==="fixed"&&!f(this).hasClass("fancybox-overlay")&&!f(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin");this.el.addClass("fancybox-margin")}e=o.scrollTop();c=o.scrollLeft();this.el.addClass("fancybox-lock");o.scrollTop(e).scrollLeft(c)}this.open(b)},onUpdate:function(){this.fixed||this.update()},afterClose:function(b){this.overlay&&!a.coming&&this.overlay.fadeOut(b.speedOut,f.proxy(this.close,this))}};a.helpers.title={defaults:{type:"float",
position:"bottom"},beforeShow:function(b){var d=a.current,e=d.title,c=b.type;if(f.isFunction(e))e=e.call(d.element,d);if(!(!s(e)||f.trim(e)==="")){d=f('<div class="fancybox-title fancybox-title-'+c+'-wrap">'+e+"</div>");switch(c){case "inside":c=a.skin;break;case "outside":c=a.wrap;break;case "over":c=a.inner;break;default:c=a.skin;d.appendTo("body");p&&d.width(d.width());d.wrapInner('<span class="child"></span>');a.current.margin[2]+=Math.abs(l(d.css("margin-bottom")));break}d[b.position==="top"?
"prependTo":"appendTo"](c)}}};f.fn.fancybox=function(b){var d,e=f(this),c=this.selector||"",g=function(h){var i=f(this).blur(),j=d,k,m;if(!(h.ctrlKey||h.altKey||h.shiftKey||h.metaKey)&&!i.is(".fancybox-wrap")){k=b.groupAttr||"data-fancybox-group";m=i.attr(k);if(!m){k="rel";m=i.get(0)[k]}if(m&&m!==""&&m!=="nofollow"){i=c.length?f(c):e;i=i.filter("["+k+'="'+m+'"]');j=i.index(this)}b.index=j;a.open(i,b)!==false&&h.preventDefault()}};b=b||{};d=b.index||0;!c||b.live===false?e.unbind("click.fb-start").bind("click.fb-start",
g):r.undelegate(c,"click.fb-start").delegate(c+":not('.fancybox-item, .fancybox-nav')","click.fb-start",g);this.filter("[data-fancybox-start=1]").trigger("click");return this};r.ready(function(){var b,d;if(f.scrollbarWidth===v)f.scrollbarWidth=function(){var e=f('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),c=e.children();c=c.innerWidth()-c.height(99).innerWidth();e.remove();return c};if(f.support.fixedPosition===v)f.support.fixedPosition=function(){var e=f('<div style="position:fixed;top:20px;"></div>').appendTo("body"),
c=e[0].offsetTop===20||e[0].offsetTop===15;e.remove();return c}();f.extend(a.defaults,{scrollbarWidth:f.scrollbarWidth(),fixed:f.support.fixedPosition,parent:f("body")});b=f(n).width();H.addClass("fancybox-lock-test");d=f(n).width();H.removeClass("fancybox-lock-test");f("<style type='text/css'>.fancybox-margin{margin-right:"+(d-b)+"px;}</style>").appendTo("head")})})(window,document,jQuery);$(function(){function n(){$("a.fancybox").each(function(){var y=this.href.replace(/aspect=\w+/g,"");this.href=y+(y.indexOf("?")<0?"?":"&")+"aspect=image&geometry=800x800>"});$("a.fancybox").fancybox()}$("#content").bind("pageLoaded",n);n()});
