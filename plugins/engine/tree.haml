%table.tree.zebra
  %thead
    %tr
      %th= :name.t
      %th= :last_modified.t
      %th= :author.t
      %th= :message.t
      %th= :actions.t
  %tbody
    %tr
      %td.link{:colspan => 5}= %Q{<a href="#{resource_path(@tree, :path => '..')}">#{image(:tree, :alt => 'Tree')} ..</a>}
    - @tree.children.each do |child|
      %tr
        %td.link= tree_link(child)
        %td= date(child.latest_commit.date)
        %td= child.latest_commit.author.name
        %td= child.latest_commit.message.truncate(50)
        %td
          - if child.tree?
            %a{:href=>action_path(child, :archive), :title => 'Archive'}= image(:archive, :alt => 'Archive')
          - else
            %a{:href=>action_path(child, :edit), :title => 'Edit'}= image(:edit, :alt => 'Edit')
          %a{:href=>action_path(child, :history), :title => 'History'}= image(:history, :alt => 'History')
