(function(a){a.fn.historyTable=function(){function f(){var b=[];g.each(function(){this.checked&&b.push(this.name)});return b}a("thead tr",this).prepend('<th class="compare"><button>&#177;</button></th>');a("tbody tr",this).each(function(){var b=a(this).attr("id").substr(8);a(this).prepend('<td class="compare"><input type="checkbox" name="'+b+'"/></td>')});var c=a.storage.get("historyTable");if(c)for(var d=0;d<c.length;++d)a("input[name="+c[d]+"]").attr("checked","checked");var g=a("tbody input",this),
e=a("th button",this);e.click(function(){var b=f();a.storage.set("historyTable",b);location.href=location.pathname.replace("/history","/compare/"+b[b.length-1]+"..."+b[0])});a("td input",this).change(function(){f().length>1?e.removeAttr("disabled"):e.attr("disabled","disabled")}).change()}})(jQuery);$(function(){$("#content").bind("pageLoaded",function(){$("#history",this).historyTable()});$("#history").historyTable()});
